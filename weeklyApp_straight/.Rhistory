testM <- 15
x15 <- matrix(unlist(combn(1:16, m = testM)), nrow = testM) # 11440
x15
shiny::runApp('GitHub/straightsims/weeklyApp_straight')
shiny::runApp('GitHub/straightsims/weeklyApp_straight')
shiny::runApp('GitHub/fs2/weeklyApp_confidence')
shiny::runApp('GitHub/fs2/weeklyApp_confidence')
shiny::runApp('GitHub/straightsims/weeklyApp_straight')
shiny::runApp('GitHub/fs2/weeklyApp_confidence')
curwd <- getwd()
setwd("C:/Users/Anichini/Documents/")
data <- read.csv("~/WEEK02_2015.csv", stringsAsFactors=FALSE)
winprob <- data$WinProbability
confidence<-data$Confidence
games<-length(winprob)
sims<-100000
points<-rep(0,sims)
for (i in 1:sims){
outcomes<-1*(runif(games,0,1)<winprob)
points[i]<-sum(outcomes*confidence)
}
quantile(points,c(.025,.5,.975))
setwd(curwd)
tax_cost_ratio_exploratory_201509 <- read.csv("~/tax_cost_ratio_exploratory_201509.csv", stringsAsFactors=FALSE)
View(tax_cost_ratio_exploratory_201509)
data <- read.csv("~/tax_cost_ratio_exploratory_201509.csv", stringsAsFactors=FALSE)
rm(list = ls())
data <- read.csv("~/tax_cost_ratio_exploratory_201509.csv", stringsAsFactors=FALSE)
rm(list = ls())
suppressWarnings(suppressMessages(library(data.table)))
suppressWarnings(suppressMessages(library(lubridate)))
library(scales)
data <- read.csv("~/tax_cost_ratio_exploratory_201509.csv", stringsAsFactors=FALSE)
dataDT <- data.table(data, key = Ticker)
dataDT <- data.table(data[-2, ], key = Ticker)
dataDT <- data.table(data[-2, ], key = "Ticker")
dataDT
rm(list = ls())
data <- read.csv("~/tax_cost_ratio_exploratory_201509.csv", stringsAsFactors=FALSE)
dataDT <- data.table(data[-2, ], key = "Ticker")
dataDT
table(dataDT[Morningstar.Category == "US OE Large Blend"]
)
table(dataDT[Morningstar.Category == "US OE Large Blend", Total.Ret..YTD...Mo.End...USD])
table(dataDT[Morningstar.Category])
table(dataDT[,Morningstar.Category])
dataDT[Morningstar.Category == ""]
data <- read.csv("~/tax_cost_ratio_exploratory_201509.csv", stringsAsFactors=FALSE)
head(data)
data <- read.csv("~/tax_cost_ratio_exploratory_201509.csv", stringsAsFactors=FALSE, header = T, skip = 1)
data <- read.csv("~/tax_cost_ratio_exploratory_201509.csv", stringsAsFactors=FALSE, header = T)
head(data)
dataDT <- data.table(data[-1, ], key = "Ticker")
table(dataDT[,Morningstar.Category])
dataDT[Morningstar.Category == "US OE Large Growth", Turnover.Ratio...Date]
table(dataDT[Morningstar.Category == "US OE Large Growth", Turnover.Ratio...Date])
dataDT[Morningstar.Category == "US OE Large Growth", ]
hist(dataDT[Morningstar.Category == "US OE Large Growth", Tax.Cost..Ratio..1.Yr..Mo.End.], rm.na = T)
plot(dataDT[Morningstar.Category == "US OE Large Growth", Tax.Cost..Ratio..1.Yr..Mo.End.])
plot(dataDT[Morningstar.Category == "US OE Large Growth", Total.Ret..1.Yr...Mo.End...USD], dataDT[Morningstar.Category == "US OE Large Growth", Tax.Cost..Ratio..1.Yr..Mo.End.])
plot(dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Total.Ret..1.Yr...Mo.End...USD], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.])
plot(dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Total.Ret..1.Yr...Mo.End...USD], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Trailing 1yr Total Return (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)")
dataDT[Tax.Cost..Ratio..1.Yr..Mo.End. > 10]
dataDT[Morningstar.Category == "US OE Large Growth" & Tax.Cost..Ratio..1.Yr..Mo.End. > 10]
dataDT[Morningstar.Category == "US OE Large Growth" & Tax.Cost..Ratio..1.Yr..Mo.End. > 15]
plot( dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Total.Ret..1.Yr...Mo.End...USD], xlab = "Trailing 1yr Tax Cost Ratio (%)", ylab = "Trailing 1yr Total Return (%)")
plot( dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], xlab = "Trailing 1yr Tax Cost Ratio (%)", ylab = "Trailing 1yr Total Return (%)")
plot( dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], xlab = "Trailing 1yr Tax Cost Ratio (%)", ylab = "Turnover Ratio (%)")
plot( dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)")
plot( dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "Tax Cost Ratio vs Turnover Ratio", sub = "US Large Growth Funds, Aug. 2015")
?par
par(mfcol = 1, mfrow = 3)
par(mfrow = c(1, 3))
plot( dataDT[Morningstar.Category == "US OE Large Value" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Value" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "Tax Cost Ratio vs Turnover Ratio, Aug. 2015\n US Large Value")
plot( dataDT[Morningstar.Category == "US OE Large Blend" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Blend" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "US Large Blend")
plot( dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "US Large Growth")
par(mfrow = c(3, 1))
plot( dataDT[Morningstar.Category == "US OE Large Value" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Value" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "Tax Cost Ratio vs Turnover Ratio, Aug. 2015\n US Large Value")
plot( dataDT[Morningstar.Category == "US OE Large Blend" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Blend" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "US Large Blend")
plot( dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "US Large Growth")
par(mfrow = c(3, 1), xlim = c(0, 800), ylim = c(0, 20))
par(mfrow = c(3, 1))
plot( dataDT[Morningstar.Category == "US OE Large Value" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Value" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "Tax Cost Ratio vs Turnover Ratio, Aug. 2015\n US Large Value", xlim = c(0, 800), ylim = c(0, 20)
plot( dataDT[Morningstar.Category == "US OE Large Blend" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Blend" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "US Large Blend", xlim = c(0, 800), ylim = c(0, 20)
plot( dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "US Large Growth", xlim = c(0, 800), ylim = c(0, 20)
par(mfrow = c(3, 1))
plot( dataDT[Morningstar.Category == "US OE Large Value" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Value" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "Tax Cost Ratio vs Turnover Ratio, Aug. 2015\n US Large Value", xlim = c(0, 800), ylim = c(0, 20))
plot( dataDT[Morningstar.Category == "US OE Large Blend" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Blend" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "US Large Blend", xlim = c(0, 800), ylim = c(0, 20))
plot( dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover..Ratio..], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "US Large Growth", xlim = c(0, 800), ylim = c(0, 20))
dataDT[Turnover..Ratio..>500]
table(dataDT[Turnover..Ratio..>500, Morningstar.Category])
str(dataDT)
dataDT[, Turnover := as.integer(Turnover..Ratio..)]
plot( dataDT[Morningstar.Category == "US OE Large Value" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover], dataDT[Morningstar.Category == "US OE Large Value" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "Tax Cost Ratio vs Turnover Ratio, Aug. 2015\n US Large Value", xlim = c(0, 800), ylim = c(0, 20))
plot( dataDT[Morningstar.Category == "US OE Large Blend" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover], dataDT[Morningstar.Category == "US OE Large Blend" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "US Large Blend", xlim = c(0, 800), ylim = c(0, 20))
plot( dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Turnover], dataDT[Morningstar.Category == "US OE Large Growth" & !is.na(Tax.Cost..Ratio..1.Yr..Mo.End.), Tax.Cost..Ratio..1.Yr..Mo.End.], xlab = "Turnover Ratio (%)", ylab = "Trailing 1yr Tax Cost Ratio (%)", main = "US Large Growth", xlim = c(0, 800), ylim = c(0, 20))
dataDT[Turnover > 500]
dataDT[Turnover > 500 & Morningstar.Category %in% c("US OE Large Growth", "US OE Large Blend", "US OE Large Value")]
fixed_income_fund_risk_2015Q3 <- read.csv("~/fixed_income_fund_risk_2015Q3.csv", stringsAsFactors=FALSE)
View(fixed_income_fund_risk_2015Q3)
fixed_income <- read.csv("~/fixed_income_fund_risk_2015Q3.csv", stringsAsFactors=FALSE)
rm(list = ls())
fixed_income <- read.csv("~/fixed_income_fund_risk_2015Q3.csv", stringsAsFactors=FALSE)
plot(fixed_income$Duration, fixed_income$StdDev5)
head(fixed_income)
plot(fixed_income[fixed_income$Category == "Intermediate Government"]$Duration, fixed_income$StdDev5)
plot(fixed_income[fixed_income$Category == "Intermediate Government",fixed_income$Duration], fixed_income[fixed_income$Category == "Intermediate Government",fixed_income$StdDev5])
suppressMessages(suppressWarnings(library(data.table)))
fixed_income <- data.table(read.csv("~/fixed_income_fund_risk_2015Q3.csv", stringsAsFactors=FALSE)
head(fixed_income))
fixed_income <- data.table(read.csv("~/fixed_income_fund_risk_2015Q3.csv", stringsAsFactors=FALSE)
)
plot(fixed_income[Category == "Intermediate Government", Duration], fixed_income[Category == "Intermediate Government",StdDev5])
plot(fixed_income[Category == "Intermediate Government", Duration], fixed_income[Category == "Intermediate Term-Bond",StdDev5])
plot(fixed_income[Category == "Intermediate Term-Bond", Duration], fixed_income[Category == "Intermediate Term-Bond",StdDev5])
plot(fixed_income[Category == "Intermediate-Term Bond", Duration], fixed_income[Category == "Intermediate-Term Bond",StdDev5])
table(fixed_income[, Category])
plot(fixed_income[Category == "Inflation-Protected Bond", Duration], fixed_income[Category == "Inflation-Protected Bond",StdDev5])
plot(fixed_income[Category == "Intermediate Government", Duration], fixed_income[Category == "Intermediate Government",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.\n 6/30")
plot(fixed_income[Category == "Intermediate-Term Bond", Duration], fixed_income[Category == "Intermediate-Term Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 10))
plot(fixed_income[Category == "Inflation-Protected Bond", Duration], fixed_income[Category == "Inflation-Protected Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 10))
plot(fixed_income[Category == "Intermediate Government", Duration], fixed_income[Category == "Intermediate Government",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6))
plot(fixed_income[Category == "Intermediate-Term Bond", Duration], fixed_income[Category == "Intermediate-Term Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6))
plot(fixed_income[Category == "Inflation-Protected Bond", Duration], fixed_income[Category == "Inflation-Protected Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6))
hist(fixed_income[Category == "Inflation-Protected Bond", Duration])
hist(fixed_income[Category == "Intermediate Government", Duration])
hist(fixed_income[Category == "Intermediate-Term Bond", Duration])
hist(fixed_income[Category == "Inflation-Protected Bond", Duration])
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermed. Govt.")
?hist
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermed. Govt.", xlim = c(0, 10) )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermed. Term", xlim = c(0, 10) )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation Prot.", xlim = c(0, 10) )
par(mfcol = c(3, 1))
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermed. Govt.", xlim = c(0, 10) )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermed. Term", xlim = c(0, 10) )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation Prot.", xlim = c(0, 10) )
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermed. Govt.", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermed. Term", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation Prot.", xlim = c(0, 10), xlab = "Duration" )
par(mfcol = c(3, 1))
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government.", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
?hist
?par
par(mfcol = c(3, 1), cex.axis = 2.0)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
?par
par(mfcol = c(3, 1), cex.axis = 2.0, cex.lab = 2.0)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
par(mfcol = c(3, 1), cex.axis = 2.0, cex.lab = 2.0, cex.main = 2.0)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
?par
par(mfcol = c(2, 2), cex.axis = 2.0, cex.lab = 2.0, cex.main = 2.0)
plot(fixed_income[Category == "Intermediate Government", Duration], fixed_income[Category == "Intermediate Government",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6))
plot(fixed_income[Category == "Intermediate-Term Bond", Duration], fixed_income[Category == "Intermediate-Term Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6))
plot(fixed_income[Category == "Inflation-Protected Bond", Duration], fixed_income[Category == "Inflation-Protected Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6))
par(mfcol = c(3, 1), cex.axis = 2.0, cex.lab = 2.0, cex.main = 2.0)
plot(fixed_income[Category == "Intermediate Government", Duration], fixed_income[Category == "Intermediate Government",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6), main = "Intermediate Government")
plot(fixed_income[Category == "Intermediate-Term Bond", Duration], fixed_income[Category == "Intermediate-Term Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6), main = "Intermediate-Term Bond")
plot(fixed_income[Category == "Inflation-Protected Bond", Duration], fixed_income[Category == "Inflation-Protected Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6), main = = "Inflation-Protected Bond")
plot(fixed_income[Category == "Inflation-Protected Bond", Duration], fixed_income[Category == "Inflation-Protected Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6), main = "Inflation-Protected Bond")
?par
par(mfcol = c(3, 1), cex.axis = 2.0, cex.lab = 2.0, cex.main = 2.0, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
plot(fixed_income[Category == "Intermediate Government", Duration], fixed_income[Category == "Intermediate Government",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6), main = "Intermediate Government")
plot(fixed_income[Category == "Intermediate-Term Bond", Duration], fixed_income[Category == "Intermediate-Term Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6), main = "Intermediate-Term Bond")
plot(fixed_income[Category == "Inflation-Protected Bond", Duration], fixed_income[Category == "Inflation-Protected Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6), main = "Inflation-Protected Bond")
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
plot(fixed_income[Category == "Intermediate Government", Duration], fixed_income[Category == "Intermediate Government",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6), main = "Intermediate Government")
plot(fixed_income[Category == "Intermediate-Term Bond", Duration], fixed_income[Category == "Intermediate-Term Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6), main = "Intermediate-Term Bond")
plot(fixed_income[Category == "Inflation-Protected Bond", Duration], fixed_income[Category == "Inflation-Protected Bond",StdDev5], xlab = "Duration", ylab = "5-yr St.Dev.", xlim = c(0, 10), ylim = c(0, 6), main = "Inflation-Protected Bond")
fixed_income
hist(fixed_income[Category == "Intermediate Government", StDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Intermediate Government", StdDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Intermediate-Term Bond", StdDev5], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Inflation-Protected Bond", StdDev5], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "St. Dev." )
par(mfcol = c(2, 2), cex.axis = 2.0, cex.lab = 2.0, cex.main = 2.0, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Corporate Bond", Duration], main = "Corporate Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate Government", StdDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Intermediate-Term Bond", StdDev5], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Inflation-Protected Bond", StdDev5], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Corporate Bond", StdDev5], main = "Corporate Bond", xlim = c(0, 10), xlab = "St. Dev." )
par(mfcol = c(2, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Corporate Bond", Duration], main = "Corporate Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate Government", StdDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Intermediate-Term Bond", StdDev5], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Inflation-Protected Bond", StdDev5], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Corporate Bond", StdDev5], main = "Corporate Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Corporate Bond", Duration], main = "Corporate Bond", xlim = c(0, 10), xlab = "Duration" )
rm(list = ls())
suppressMessages(suppressWarnings(library(data.table)))
fixed_income <- data.table(read.csv("~/fixed_income_fund_risk_2015Q3.csv", stringsAsFactors=FALSE))
table(fixed_income[, Category])
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Corporate Bond", Duration], main = "Corporate Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Long-Term Bond", Duration], main = "Long-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "High Yield Bond", Duration], main = "High Yield Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate Government", StdDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Intermediate-Term Bond", StdDev5], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Inflation-Protected Bond", StdDev5], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Corporate Bond", StdDev5], main = "Corporate Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "High Yield Bond", StdDev5], main = "High Yield Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Long-Term Bond", StdDev5], main = "Long-Term Bond", xlim = c(0, 10), xlab = "St. Dev." )
rm(list = ls())
fixed_income <- data.table(read.csv("~/fixed_income_fund_risk_2015Q3.csv", stringsAsFactors=FALSE))
table(fixed_income[, Category])
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Corporate Bond", Duration], main = "Corporate Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Long-Term Bond", Duration], main = "Long-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "High Yield Bond", Duration], main = "High Yield Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate Government", StdDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Intermediate-Term Bond", StdDev5], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Inflation-Protected Bond", StdDev5], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Corporate Bond", StdDev5], main = "Corporate Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "High Yield Bond", StdDev5], main = "High Yield Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Long-Term Bond", StdDev5], main = "Long-Term Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = C(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = C(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = C(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Corporate Bond", Duration], main = "Corporate Bond", xlim = C(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Long-Term Bond", Duration], main = "Long-Term Bond", xlim = C(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "High Yield Bond", Duration], main = "High Yield Bond", xlim = C(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Corporate Bond", Duration], main = "Corporate Bond", xlim = c(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Long-Term Bond", Duration], main = "Long-Term Bond", xlim = c(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "High Yield Bond", Duration], main = "High Yield Bond", xlim = c(0, 12), xlab = "Duration" )
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "Corporate Bond", Duration], main = "Corporate Bond", xlim = c(0, 12), xlab = "Duration" )
hist(fixed_income[Category == "High Yield Bond", Duration], main = "High Yield Bond", xlim = c(0, 12), xlab = "Duration" )
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", StdDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Intermediate-Term Bond", StdDev5], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Inflation-Protected Bond", StdDev5], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Corporate Bond", StdDev5], main = "Corporate Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "High Yield Bond", StdDev5], main = "High Yield Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Long-Term Bond", StdDev5], main = "Long-Term Bond", xlim = c(0, 10), xlab = "St. Dev." )
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", StdDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Intermediate-Term Bond", StdDev5], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Inflation-Protected Bond", StdDev5], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Corporate Bond", StdDev5], main = "Corporate Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "High Yield Bond", StdDev5], main = "High Yield Bond", xlim = c(0, 10), xlab = "St. Dev." )
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Corporate Bond", Duration], main = "Corporate Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "High Yield Bond", Duration], main = "High Yield Bond", xlim = c(0, 10), xlab = "Duration" )
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration")
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration", bins = 10 )
?hist
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration", breaks = 10 )
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration")
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration", breaks = 10 )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "Corporate Bond", Duration], main = "Corporate Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "High Yield Bond", Duration], main = "High Yield Bond", xlim = c(0, 10), xlab = "Duration" )
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", StdDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Intermediate-Term Bond", StdDev5], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "St. Dev." , breaks = 10 )
hist(fixed_income[Category == "Inflation-Protected Bond", StdDev5], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Corporate Bond", StdDev5], main = "Corporate Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "High Yield Bond", StdDev5], main = "High Yield Bond", xlim = c(0, 10), xlab = "St. Dev." )
?hist
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", StdDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev.", breaks = "Sturges" )
hist(fixed_income[Category == "Intermediate-Term Bond", StdDev5], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "St. Dev." , breaks = 10 )
hist(fixed_income[Category == "Inflation-Protected Bond", StdDev5], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "Corporate Bond", StdDev5], main = "Corporate Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "High Yield Bond", StdDev5], main = "High Yield Bond", xlim = c(0, 10), xlab = "St. Dev." )
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", Duration], main = "Intermediate Government", xlim = c(0, 10), xlab = "Duration", breaks = 6 )
hist(fixed_income[Category == "Intermediate-Term Bond", Duration], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "Duration", breaks = 10 )
hist(fixed_income[Category == "Inflation-Protected Bond", Duration], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "Duration" , breaks = 6 )
hist(fixed_income[Category == "Corporate Bond", Duration], main = "Corporate Bond", xlim = c(0, 10), xlab = "Duration" )
hist(fixed_income[Category == "High Yield Bond", Duration], main = "High Yield Bond", xlim = c(0, 10), xlab = "Duration" )
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", StdDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev.", breaks = 6 )
hist(fixed_income[Category == "Intermediate-Term Bond", StdDev5], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "St. Dev." , breaks = 10 )
hist(fixed_income[Category == "Inflation-Protected Bond", StdDev5], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "St. Dev.", breaks = 6 )
hist(fixed_income[Category == "Corporate Bond", StdDev5], main = "Corporate Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "High Yield Bond", StdDev5], main = "High Yield Bond", xlim = c(0, 10), xlab = "St. Dev." )
par(mfcol = c(3, 2), cex.axis = 2.0, cex.lab = 1.5, cex.main = 1.5, mar = c(5, 6, 4, 2) + .1)
hist(fixed_income[Category == "Intermediate Government", StdDev5], main = "Intermediate Government", xlim = c(0, 10), xlab = "St. Dev.")
hist(fixed_income[Category == "Intermediate-Term Bond", StdDev5], main = "Intermediate-Term Bond", xlim = c(0, 10), xlab = "St. Dev." , breaks = 10 )
hist(fixed_income[Category == "Inflation-Protected Bond", StdDev5], main = "Inflation-Protected Bond", xlim = c(0, 10), xlab = "St. Dev.", breaks = 6 )
hist(fixed_income[Category == "Corporate Bond", StdDev5], main = "Corporate Bond", xlim = c(0, 10), xlab = "St. Dev." )
hist(fixed_income[Category == "High Yield Bond", StdDev5], main = "High Yield Bond", xlim = c(0, 10), xlab = "St. Dev." )
install.packages("memoise")
install.packages("RcppEigen")
library(memoise)
a <- function(n) { runif(n) }
memA <- memoise(a)
replicate(5, a(2))
replicate(5, memA(2))
replicate(5, memA(2))
N <- 4; memA(N)
N <- 5; memA(N)
N <- 4; memA(N)
N2 <- 4; memA(N2)
memB <- memoise(function(n, dummy="a") { runif(n) })
memB(2)
memB(2, dummy="a")
memB(2, dummy="b")
memA(2)
memA2 <- memoise(a)
memA(2)  # Still the same outcome
memA2(2) # Different cache, different outcome
memA(2)
memA <- memoise(a)
memA(2)
library(devtools)
has_devel()
install.packages(c("devtools", "roxygen2", "testthat", "knitr"))
install.packages(c("devtools", "roxygen2", "testthat", "knitr"))
devtools::install_github("hadley/devtools")
library(devtools)
load_all()
library("devtools", lib.loc="~/R/win-library/3.2")
detach("package:devtools", unload=TRUE)
library("installr", lib.loc="~/R/win-library/3.2")
uninstall.packages("devtools")
setwd("~/GitHub/fs2")
setwd("~/GitHub/pickem")
rm(list = ls())
load("straightStartSpecific.Rdata")
weekFile <- read.csv("~/WEEK04_2015.csv", stringsAsFactors = F) #read.csv("D:/WTP/WEEK01_2015.csv", stringsAsFactors = F)
weekFile <- weekFile[order(weekFile$YahooOrder), ]
winprob <- weekFile$WinProbability
nGames <- length(winprob)
set.seed(nGames)
outcomeMatrix <- matrix(runif(nGames * 1700) < winprob, ncol = 1700)
# outcomeMatrix[, 1:10]
comparisonPicks <- comparisonPicks16
fanMatrix <- fanMatrix16
if (nGames == 14) {
comparisonPicks <- comparisonPicks14
fanMatrix <- fanMatrix14
} else if (nGames == 13) {
comparisonPicks <- comparisonPicks13
fanMatrix <- fanMatrix13
} else if (nGames == 15) {
comparisonPicks <- comparisonPicks15
fanMatrix <- fanMatrix15
}
rm(comparisonPicks13, comparisonPicks14, comparisonPicks15, comparisonPicks16,
fanMatrix13, fanMatrix14, fanMatrix15, fanMatrix16)
comparisonPicksScores <- crossprod(outcomeMatrix, comparisonPicks) + crossprod((1- outcomeMatrix), (1 - comparisonPicks))
fanprob <- weekFile$StraightFans
fanMatrix <- matrix((fanMatrix < fanprob) * 1, nrow = nGames)
fanScores <- crossprod(outcomeMatrix, fanMatrix) + crossprod((1- outcomeMatrix), (1 - fanMatrix))
fanSubset <- matrix(rep(0, 1700 * 250), nrow = 1700)
sampleFans <- matrix(sample(1:1700, 1700 * 250, replace = T), nrow = 1700)
for (i in 1:1700){
fanSubset[i, ] <- fanScores[i, sampleFans[i, ]]
}
rm(fanScores)
calcTactics <- function(size){#size=40
fanScoreSubset <- fanSubset[, 1:size]
comparisonFirst <- comparisonPicksScores > apply(fanScoreSubset, 1, max)
comparisonTiedorFirst <- comparisonPicksScores >= apply(fanScoreSubset, 1, max)
fansFirst <- 1 * (fanScoreSubset == apply(fanScoreSubset, 1, max))
fansTiedorFirstCount <- rowSums(fansFirst)
fansTiedorFirstAvg <- sum(fansTiedorFirstCount)/(100 * size)
fansFirstCount <- rep(0, 1700)
fansFirstCount[fansTiedorFirstCount == 1] <- 1
fansFirstAvg <- sum(fansFirstCount)/(100 * size)
outright <- which(colSums(comparisonFirst) == max(colSums(comparisonFirst)))
lenOut <- length(outright)
outPoints <- t(comparisonPicks[, outright]) %*% weekFile$WinProbability +
t((1 - comparisonPicks[, outright])) %*% (1 - weekFile$WinProbability)
if (length(outright) > 1){
maxOut <- outPoints[which(outPoints == max(outPoints))[1]]
outright <- outright[which(outPoints == maxOut)[1]]
outPoints <- maxOut
}
outPicksPoints <- sum(comparisonFirst[, outright]/fansTiedorFirstCount)
outPicks = comparisonPicks[, outright]
outTeams = weekFile$Victor
outTeams[outPicks == 0] <- weekFile$Underdog[outPicks==0]
mostwins <- which(colSums(comparisonTiedorFirst/fansTiedorFirstCount) == max(colSums(comparisonTiedorFirst/fansTiedorFirstCount)))
lenMost <- length(mostwins)
mostPoints <- t(comparisonPicks[, mostwins]) %*% weekFile$WinProbability +
t((1 - comparisonPicks[, mostwins])) %*% (1 - weekFile$WinProbability)
if (length(mostwins) > 1){
maxMost <- mostPoints[which(mostPoints == max(mostPoints))[1]]
mostwins <- mostwins[which(mostPoints == maxMost)[1]]
mostPoints <- maxMost
}
mostPicksPoints <- sum(comparisonTiedorFirst[, mostwins]/fansTiedorFirstCount)
mostPicks = comparisonPicks[, mostwins]
mostTeams = weekFile$Victor
mostTeams[mostPicks == 0] <- weekFile$Underdog[mostPicks==0]
data <- list(outright, mostwins, outPoints = outPoints, mostPoints = mostPoints, numOutright = lenOut, numWins = lenMost, outPicks = outPicks, mostPicks = mostPicks, outW = colSums(comparisonFirst)[outright]/100, mostW = colSums(comparisonTiedorFirst)[mostwins]/100, outTeams = outTeams, mostTeams = mostTeams, avgOut = fansFirstAvg, avgMost = fansTiedorFirstAvg, outPicksPoints = outPicksPoints, mostPicksPoints = mostPicksPoints)
data
}
popList <- function(size){list(size, calcTactics(size))}
system.time(firstList <- popList(25))
compTactics <- function(inputList, reps){
fanSizes <- seq(5, 5 * reps, by = 5)
outputList <- rep(inputList, reps)
for(i in 1:reps)  {#i = 2
size <- fanSizes[i]
genList <- popList(size)
outputList[[2*(i - 1) + 1]] <- genList[[1]]
outputList[[2*i]] <- genList[[2]]
}
outputList
}
weekFile2 <- weekFile
load("2015wk05.RData")
load("2015wk04.RData")
load("2015wk04.RData")
weekFile == weekFile2
weekFile
weekFile2
maxReps <- 20
playersBest <- rep(firstList, maxReps)
system.time(playersBest <- compTactics(firstList, maxReps))
playersBest2 <- playersBest
load("WTP_pickem/app2015wk04.RData")
playersBest == playersBest2
playersBest
playersBest2[[40]]
playersBest[[40]] == playersBest2[[40]]
playersBest[[40]]$mostTeams == playersBest2[[40]]$mostTeams
shiny::runApp('WTP_pickem')
setwd("~/GitHub/pickem/WTP_pickem")
shiny::runApp()
library("shinyapps", lib.loc="~/R/win-library/3.2")
shiny::runApp()
setwd("~/GitHub/pickem")
shiny::runApp('~/GitHub/straightsims/weeklyApp_straight')
setwd("~/GitHub/straightsims/weeklyApp_straight")
load("app2015wk04.RData")
library(shiny); library(scales)
require(googleVis)
shinyServer(function(input, output) { # input <- data.frame(players = 35)
sizeIndex <- reactive({input$players/5 * 2})
results <- reactive({playersBest[[sizeIndex()]]})
# most <- renderTable({cbind(Game = weekFile$Game, Pick = results()$mostTeams)}, include.rownames=F)
output$mostWins <- renderGvis({
most <- as.data.frame(cbind(Game = weekFile$Game, Pick = results()$mostTeams))
most.W <- gvisTable(most, #include.rownames=F,
options=list(page='enable', #height=500, width = 300,
showRowNumber = F, pageSize = 16,
cssClassNames = "{headerRow: 'myTableHeadrow',
tableRow: 'myTablerow'}",
alternatingRowStyle = TRUE, page = 'disable'),
chartid = "mytable")
most.W
})
})
library(shiny)
library(googleVis)
# Define the overall UI
shinyUI(fluidPage(
includeCSS("styles.css"),
fluidRow(
column(3, p("")),
column(9,
h3("Tactical picks for 2015"), #style = "color: #06018f;"),
h6("Appropriate for straight-up pick'em pools with a weekly payout"),
sliderInput("players", "   Number of Players in Pool:", min = 5,
max = 100, step = 5, value = 35),
h4("Winningest Picks, Week 4"),
p("Final update 10/01/16 8:05a PDT"),
htmlOutput(outputId="mostWins")
,
tags$head(tags$style(type="text/css",
".myTableHeadrow {color:#FFFFFF; background-color:#FF0000;}
.myTablerow {background-color:#D9D9D9;}"))
)
),
tags$head(includeScript("google-analytics.js"))
)
)
